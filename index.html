<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Top Down Operator Precedence</title>
      <link href="styles/global.css" rel="stylesheet" type="text/css">
      <script src="scripts/parse.js"></script>
      <script src="scripts/tokens.js"></script>
      <script src="lib/jquery.min.js"></script>
      <script src="scripts/main.js"></script>
      
      <script>
function dump(fileName) {
   $.get(fileName, function (data) {
      console.log("Probanbo probando");
      $("#INPUT").val(data);
   },dataType='text');
};
   </script>
      
      
   </head>

   <body>
      <h1>Top Down Operator Precedence. Lexical Analysis</h1>
      <p>
         <nav>
            <a href="http://javascript.crockford.com/tdop/tdop.html" class="mylink">Top Down Operator Precedence tutorial</a>
            <a href="https://github.com/PL2015/PL015-AnalizadorLexicoJS" class="mylink">Repo at GitHub</a>
         </nav>
      </p>
      <h2>Input</h2>
      <p>Fill the input box with javascript code:</p>
      <textarea id="INPUT">
var a = "hello"; // initialize a
var b = function(x) {
   var c = 3;
   return x+c;
};
      </textarea>
      <br>
      <input id="PARSE" value=parse type=button class="mylink">
      
      <button id ="input2" type="button" onclick="dump('input2.txt');">input2</button>
      
      <div id="drop_zone">Drop files here</div>
      <output id="list"></output>
      
      <script>
function handleFileSelect(evt) {
   evt.stopPropagation();
   evt.preventDefault();
   var files = evt.dataTransfer.files; // FileList object.
   var reader = new FileReader();
   reader.readAsText(files[0], "UTF-8");
   reader.onload = function(e){
   
      var textoTmp = ""; // = document.getElementById('INPUT').value;
      textoTmp += e.target.result;
      //document.getElementById('INPUT').value = textoTmp;
      $("#INPUT").val(txt);
      //console.log("Probando drag/drop -> " + textoTmp);
   }
   
   
   
  
   
   // files is a FileList of File objects. List some properties.
   //var template = _.template(usageList.innerHTML);
   //document.getElementById('list').innerHTML = template({ files : files});
   //evt.target.style.background = "black";
}

function handleDragOver(evt) {
   evt.stopPropagation();
   evt.preventDefault();
   evt.target.style.background = "purple";
}

// Setup the drag and drop listeners.
var dropZone = document.getElementById('drop_zone');
dropZone.addEventListener('dragover', handleDragOver, false);
dropZone.addEventListener('drop', handleFileSelect, false);
     </script>

      <pre id=OUTPUT></pre>
   </body>
</html>
